<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ jPOS Project [http://jpos.org]
  ~ Copyright (C) 2000-2012 Alejandro P. Revilla
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<logger name="Q2" class="org.jpos.q2.qbean.LoggerAdaptor">
  <property name="redirect" value="stdout, stderr" />

  <log-listener class="org.jpos.util.SimpleLogListener" />


  <!-- On/off the Protected Log, which protect the sensitive data -->
  <log-listener class="org.jpos.util.ProtectedLogListener">
    <property name="protect" value="2 14 35 45" />
    <property name="wipe" value="52 55 120" />
  </log-listener>
  <!-- This log listener performs the same task as ProtectedLogListener but for FSDMsg and FSDISOMsg instances. 
    And since its usage is the same, we just focus on its configuration part. -->
  <log-listener class="org.jpos.util.FSDProtectedLogListener">
    <property name="protect" value="2 35 pan track2" />
    <property name="wipe" value="pin 52" />
    <property name="truncate" value="field1:100 field2:50" />
  </log-listener>


  <log-listener class="org.jpos.util.BufferedLogListener">
    <property name="size" value="250" />
    <property name="name" value="logger.Q2.buffered" />
  </log-listener>
  <log-listener class="org.jpos.util.BufferedExceptionLogListener">
    <property name="size" value="250" />
    <property name="name" value="logger.Q2.exceptions" />
  </log-listener>

  <log-listener class="org.jpos.util.RotateLogListener">
    <property name="file" value="log/q2.log" />
    <property name="window" value="86400" />
    <property name="copies" value="90" />
    <property name="maxsize" value="100000000" />
  </log-listener>

  <log-listener class="org.jpos.util.DailyLogListener">
    <property name="window" value="86400" /> <!-- optional, default one day -->
    <!--needed-->
    <property name="prefix" value="log/q2" />
    <property name="suffix" value=".log" /> <!-- optional -->

    <!--optional the default is "-yyyy-MM-dd" -->
    <property name="date-format" value="-yyyy-MM-dd-HH" />

    <!--optional the default is gzip-->
    <property name="compression-format" value="gzip" />

    <!--optional the default is .zip for zip, .gz for gzip-->
    <!--
    <property name="compressed-suffix" value=".zip"/>
    -->
    <!--
      almost equals to rotate, except 0 or negatives means no limit 
     (which is the default), in case exceeded the file is compressed, 
     successsive copies will be appended .(count) before the suffix
     unlike rotate older copies have the least numbers
    -->
    <!-- <property name="maxsize" value="-1"/> -->

    <!-- 
      this is a low level parameter which determines the size of the 
      buffer used to read from the uncompressed file, the default is 
      128*1024 = 128 KB, use bigger values in machines with lot of
      memory and your logs are big
    -->
    <!--
    <property name="compression-buffer-size" value="131072"/>
    -->
    <!--
     first-rotate-time and first-rotate-date determines the first rotation, 
     succesive rotations will take place at the time determined by this two 
     parameters plus multiples of window, the defaults are 00:00:00 and today 
     and the formats are HH:mm:ss and yyyy-MM-dd respectively
    -->
  </log-listener>

  <!-- <log-listener class="org.jpos.util.SysLogListener">
    <property name="facility" value="16" />
    <property name="severity" value="6" />
    <property name="host" value="localhost" />
    <property name="port" value="514" />
    <property name="tags" value="audit, syslog" />
    <property name="prefix" value="[jPOS]" />
    <property name="syslog.facility" value="21" />
    <property name="syslog.severity" value="5" />
    <property name="audit.facility" value="21" />
    <property name="audit.severity" value="4" />
  </log-listener> -->
</logger>